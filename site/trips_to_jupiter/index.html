
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../install/">
      
      
        <link rel="next" href="../deep_space_man/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Trips to Jupiter - ASTRA</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#earth-venus-earth-mars-earth-jupiter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ASTRA" class="md-header__button md-logo" aria-label="ASTRA" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ASTRA
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Trips to Jupiter
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/andreabellome/astra" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ASTRA repository
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ASTRA" class="md-nav__button md-logo" aria-label="ASTRA" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ASTRA
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/andreabellome/astra" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ASTRA repository
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Trips to Jupiter
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Trips to Jupiter
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#earth-venus-earth-mars-earth-jupiter" class="md-nav__link">
    <span class="md-ellipsis">
      Earth-Venus-Earth-Mars-Earth-Jupiter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#earth-venus-earth-earth-jupiter" class="md-nav__link">
    <span class="md-ellipsis">
      Earth-Venus-Earth-Earth-Jupiter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#earth-venus-earth-mars-mars-mars-jupiter" class="md-nav__link">
    <span class="md-ellipsis">
      Earth-Venus-Earth-Mars-Mars-Mars-Jupiter
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deep_space_man/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trajectories with Deep-Space Manoeuvres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../low_thrust_trajectories/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Low-thrust trajectories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nasa_ephemerides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using NASA ephemerides
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom_input/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using custom input parameters
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#earth-venus-earth-mars-earth-jupiter" class="md-nav__link">
    <span class="md-ellipsis">
      Earth-Venus-Earth-Mars-Earth-Jupiter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#earth-venus-earth-earth-jupiter" class="md-nav__link">
    <span class="md-ellipsis">
      Earth-Venus-Earth-Earth-Jupiter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#earth-venus-earth-mars-mars-mars-jupiter" class="md-nav__link">
    <span class="md-ellipsis">
      Earth-Venus-Earth-Mars-Mars-Mars-Jupiter
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Trips to Jupiter</h1>

<p>This tutorial allows to run a simple test script with ASTRA for a mission towards Jupiter. Different sequences will be optimized, just to see different options for ASTRA.</p>
<h2 id="earth-venus-earth-mars-earth-jupiter">Earth-Venus-Earth-Mars-Earth-Jupiter</h2>
<p>First sequence to analyse is the Earth-Venus-Earth-Mars-Earth-Jupiter (EVEMEJ), that has been considered for <a href="https://www.esa.int/Science_Exploration/Space_Science/Juice" target="_blank">JUICE mission</a>.</p>
<p>This tutorial is based on <a href="https://github.com/andreabellome/astra/blob/main/st1_astra_main.m" target="_blank">this script</a>. This allows to optimize the sequence either with SODP (single-objective dynamic programming) or with MODP (multi-objective dynamic programming). A breakdown of the minimum input parameter needed is provided here.</p>
<p>From <a href="https://github.com/andreabellome/astra/blob/main/st1_astra_main.m" target="_blank">this script</a>, one needs to call ASTRA and building the mex functions (namely Lambert solver, defects function, and low-thrust module):</p>
<pre><code class="language-matlab">clearDeleteAdd;
</code></pre>
<p>Then one proceeds to select appropriate input parameters.</p>
<pre><code class="language-matlab">%% --&gt; input section

% --&gt; clear INPUT and define new ones
try clear INPUT; catch; end; clc;

% --&gt; sequence to be optimized
INPUT.idcentral = 1; 
seq = [ 3 2 3 4 3 5 ]; res = [ ];

%%%%%%%%%% multi-rev. options %%%%%%%%%%
maxrev                        = 0;                                         % --&gt; max. number of revolutions (round number)
chosenRevs                    = differentRuns_v2(seq, maxrev);             % --&gt; generate successive runs
[INPUT.chosenRevs, INPUT.res] = processResonances(chosenRevs, res);        % --&gt; process the resonances options
[INPUT.chosenRevs]            = maxRevOuterPlanets(seq, INPUT.chosenRevs); % --&gt; only zero revs. on outer planets
%%%%%%%%%% multi-rev. options %%%%%%%%%%

%%%%%%%%%% set departing options %%%%%%%%%%
t0 = date2mjd2000([2023 1 1 0 0 0]); % --&gt; initial date range for launch (MJD2000)
tf = t0 + 1*365.25;                  % --&gt; final date range for launch (MJD2000)
dt = 2.5;                            % --&gt; step size in launch window (days)
INPUT.depOpts = [t0 tf dt];
%%%%%%%%%% set departing options %%%%%%%%%%

%%%%%%%%%% set options %%%%%%%%%%
INPUT.opt      = 2;          % --&gt; (1) is for SODP, (2) is for MODP, (3) is for DATES, (4) is for YEARS - MODP
INPUT.vInfOpts = [3 5];      % --&gt; min/max departing infinity velocities (km/s)
INPUT.dsmOpts  = [2 Inf];    % --&gt; max defect DSM, and total defects DSMs (km/s)
INPUT.plot     = [0 0];      % --&gt; plot(1) for Pareto front, plot(2) for best traj. DV
INPUT.parallel = true;       % --&gt; put true for parallel, false otherwise
INPUT.tstep    = dt;         % --&gt; step size for Time of flight            
%%%%%%%%%% set options %%%%%%%%%%
</code></pre>
<p>Things to notice are:</p>
<ul>
<li>
<p><code>INPUT.idcentral</code> allows to select the system. In this example, <code>INPUT.idcentral = 1</code> means that Solar System is selected. Other options are:</p>
<ul>
<li>5 for Jupiter system</li>
<li>6 for Saturn system</li>
<li>7 for Uranus system. See also <a href="https://github.com/andreabellome/astra/blob/main/ASTRA/Ephemerides%20%26%20constants/constants.m" target="_blank">constants.m</a> for knowing about the IDs of the bodies.</li>
</ul>
</li>
<li>
<p><code>maxrev</code> is the number of revolutions for Lambert arcs. ASTRA computes all the possible permutations of revolutions per leg (both long and short option) up to the maximum desired by the user.</p>
</li>
<li><code>maxRevOuterPlanets</code> will prune options with more than one rev. on legs towards outer planets (i.e., from Jupiter on). This to prevent the mission duration to increase a lot.</li>
<li><code>res</code> is a list of integers with <code>[ N, M, LEG_ID ]</code>, where <code>N</code> and <code>M</code> are the object and spacecraft revolutions, respectively, and <code>LEG_ID</code> is the number of the leg at which the resonance is. In this case, it is empty as no resonances are included in the transfer. Later, an example will be shown.</li>
<li><code>INPUT.opt</code> selects the type of optimization. </li>
<li><code>1</code> is for SODP</li>
<li><code>2</code> is for MODP</li>
<li><code>3</code> is for SODP run each launch date. </li>
<li><code>4</code> is for MODP run each launch year. If the user selects a launch window greater or equal than 3 year AND <code>INPUT.opt=2</code>, this option is selected automatically. This allows to reduce the computational burden in terms of RAM.</li>
</ul>
<p>The options defined above allow for an MGA trajectory search of <code>Earth-Venus-Earth-Mars-Earth-Jupiter</code> mission in year <code>2023</code> using MODP (<code>INPUT.opt=2</code>).</p>
<p>ASTRA main engine can then be run using:</p>
<pre><code class="language-matlab">%% --&gt; optimize using ASTRA

% --&gt; launch ASTRA optimization
OUTPUT = ASTRA_DP(seq, INPUT);
</code></pre>
<p>Results are saved in a structure called <code>OUTPUT</code>.</p>
<p>If needed, one can then post-process the results, extracting the desired trajectory from the Pareto front, plotting the Pareto front itself and the selected path.</p>
<pre><code class="language-matlab">% --&gt; process the OUTPUT
processed_OUTPUT = postProcessOutputASTRA( OUTPUT );

% --&gt; process the output for better user experience
paretoFront = process_paretoFront_structure( INPUT, processed_OUTPUT );
</code></pre>
<p>Specfically, the structure <code>paretoFront</code> has all the relevant information about the trajectories on the Pareto front that are easily interpretable. In particular, the default objective functions to be minimized and represented in the plots are:</p>
<ul>
<li>overall $ \Delta v$ consumption (that is the departing infinity velocity $ v_{\infty,dep} $, sum of defects and arrival infinity velocity $ v_{\infty,arr}$)</li>
<li>overall time of flight</li>
</ul>
<p>Custom objective functions can also be included as shown in <a href="">another tutorial</a>.</p>
<p>Once the pareto front is extracted, one can plot it:</p>
<pre><code class="language-matlab">% --&gt; plot the Pareto front
figPareto = plotPareto(processed_OUTPUT.PARETO_FRONT);
</code></pre>
<p><img alt="fig-eci" src="../img/figPareto_evemej.png" /></p>
<p>A specific trajectory (variable <code>path</code> in the <code>paretoFront</code> structure) can also be extracted and plotted.</p>
<pre><code class="language-matlab">row  = length(paretoFront);   % --&gt; select the path to plot (minimum DV in this specific example)
path = paretoFront(row).path;
revs = paretoFront(row).revs;
res  = paretoFront(row).res;

% --&gt; plot the path
[figECI, STRUC, figSYN, figRSC, figVSC] = plotPath(path, INPUT.idcentral);
</code></pre>
<p>The plot of the optimal trajectory in inertial and Earth-Sun synodic frame is the following:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="fig-eci" src="../img/figECI_evemej.png" /></th>
<th style="text-align: center;"><img alt="fig-syn" src="../img/figSYN_evemej.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>The function <a href="https://github.com/andreabellome/astra/blob/main/ASTRA/Plot%20and%20save/plotPath.m" target="_blank">plotPath.m</a> also allows to plot the evolutions of spacecraft distance and velocity with respect to central body:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="fig-rr" src="../img/figRSC_evemej.png" /></th>
<th style="text-align: center;"><img alt="fig-vv" src="../img/figVSC_evemej.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>The function <a href="https://github.com/andreabellome/astra/blob/main/ASTRA/Plot%20and%20save/generateOutputTXT.m" target="_blank">generateOutputTXT.m</a> creates a .txt file in a folder called <code>./results</code> that has all the info of the trajectory.</p>
<pre><code class="language-matlab">% --&gt; save the output
generateOutputTXT(path, INPUT.idcentral, ...
    @EphSS_cartesian, ...
    '/target_folder', ...
    'name_of_the_file');
</code></pre>
<p>This is reported here:</p>
<pre><code>
          _/_/_/     _/_/_/  _/_/_/_/_/  _/_/_/    _/_/_/ 
        _/    _/   _/           _/     _/    _/  _/    _/ 
       _/_/_/_/     _/_/       _/     _/_/_/    _/_/_/_/  
      _/    _/         _/     _/     _/    _/  _/    _/   
     _/    _/    _/_/_/      _/     _/    _/  _/    _/    


               - ASTRA solution - 

-------------------------------------------------------------- 

Departing body                 : Earth  
Distance from the central body : 1.0000 AU 

-------------------------------------------------------------- 

Arrival body                   : Jupiter
Distance from the central body : 5.2026 AU 
Departing C3                   : 9.9710 km^2/s^2 
Departing infinity velocity    : 3.1577 km/s 
Arrival infinity velocity      : 5.5622 km/s 
Total cost (DSMs)              : 0.2279 km/s 
Total cost                     : 8.9477 km/s 
Time of flight                 : 6.4504 years 

-------------------------------------------------------------- 

MGA Details : 

Swing-by sequence      : -E--V--E--M--E--J-

Departing date         : [2023   5  25   0   0   0]
Arrival date           : [2029  11   5   0   0   0]
Time of flight per leg : 149 days 
                         314 days 
                         164 days 
                         653 days 
                         1076 days 

DSMs magnitudes        : 0 km/s 
                         0 km/s 
                         0.0435 km/s 
                         0.175 km/s 
                         0.0030602 km/s 
                         0.0062967 km/s 

Infinity velocities    : 
Earth   - Venus        : 3.1577 - 5.491 km/s 
Venus   - Earth        : 5.5345 - 8.6843 km/s 
Earth   - Mars         : 8.8594 - 9.9807 km/s 
Mars    - Earth        : 9.9837 - 11.356 km/s 
Earth   - Jupiter      : 11.3497 - 5.5622 km/s 

State at departure/arrival (km and km/s) : 
Earth                         : [-67443219.33399     -135660718.6523                   0        24.241512589      -11.7048292755      1.836903188908]  
Venus                         : [37311161.50828      101201436.6601     -794434.8182506     -35.16859904353      13.90789291013     -2.571549670311]  

Venus                         : [37311161.50828      101201436.6601     -794434.8182506     -38.11916712221      12.05366801041    0.02734636620768]  
Earth                         : [139172686.8417     -58704309.11459                   0      2.765219554958      29.78400878435    -0.2102630162746]  

Earth                         : [139172686.8417     -58704309.11459                   0      6.581015760611      34.63293925256       2.19921939779]  
Mars                          : [-149676335.9057      195136449.5053      7760204.399362     -23.46960002881     -4.185823816296    -0.8280693030055]  

Mars                          : [-149676335.9057      195136449.5053      7760204.399362     -22.68651649801     -3.708904715841     0.6440840164211]  
Earth                         : [67683770.4888      131263396.4678                   0     -25.22025731172      24.69727827743      1.176764665526]  

Earth                         : [67683770.4888      131263396.4678                   0     -30.54695793792      24.14446259252       1.85752423869]  
Jupiter                       : [-638295113.4513     -502726641.4791      16376543.69961      4.808110564511     -5.055217205055    -0.3203290652118]  

Encounter dates        : 
Earth                  : [2023   5  25   0   0   0]
Venus                  : [2023  10  21   0   0   0]
Earth                  : [2024   8  30   0   0   0]
Mars                   : [2025   2  10   0   0   0]
Earth                  : [2026  11  25   0   0   0]
Jupiter                : [2029  11   5   0   0   0]

Transfer types         : 
Earth   - Venus        : inbound - outbound 
Venus   - Earth        : inbound - inbound 
Earth   - Mars         : inbound - outbound 
Mars    - Earth        : outbound - outbound 
Earth   - Jupiter      : outbound - inbound 

-------------------------------------------------------------- 
</code></pre>
<p>Finally, one can further refine the solution around a specified trajectory, to further reduce the defects that might arise:</p>
<pre><code class="language-matlab">%% --&gt; futher refine around the optimal DV-solution

INPUT.t0days  = 10;   % --&gt; days around current solution departing epoch
INPUT.tofdays = 15;   % --&gt; days around current solution TOFs
INPUT.dt      = 0.5;  % --&gt; step size (days)
INPUT.revs    = revs;
INPUT.res     = res;

% --&gt; further refine using ASTRA
OUTPUTref           = refineUsingASTRApath(path, INPUT);
processed_OUTPUTref = postProcessOutputASTRA( OUTPUTref );
paretoFrontref      = process_paretoFront_structure( INPUT, processed_OUTPUTref );
</code></pre>
<p>It is always suggested to run this second step as one might use coarse grids as initial optimization. In this specific example one has that:</p>
<ul>
<li>minimum cost function <strong>before</strong> the refinement is: <strong>8.94774 km/s</strong> and <strong>6.450376 years</strong></li>
<li>mimimum cost functions <strong>after</strong> the refinement are: <strong>8.85087 km/s</strong> and <strong>6.46407 years</strong></li>
</ul>
<p>so the refinement actually helped at the price of slightly increased transfer time.</p>
<h2 id="earth-venus-earth-earth-jupiter">Earth-Venus-Earth-Earth-Jupiter</h2>
<p>This second tutorial is very similar to the one above. The main difference is that one uses a resonant transfer in the Earth-Earth leg.</p>
<p>The only difference with the script above is:</p>
<pre><code class="language-matlab">seq = [ 3 2 3 3 5 ];   res = [ 2 1 3 ];
</code></pre>
<p>where <code>res</code> now specifies <code>[2 1 3]</code>, i.e., 2:1 resonance on the 3rd leg. If multiple resonances are needed, one specifies it via: </p>
<ul>
<li><code>res = [N, M, LEG_ID_1, N, M, LEG_ID_1]</code> and so on...</li>
</ul>
<p>The same input as before are used. The results are reported below. One notices the resonant leg, on which the trajectory returns back at Earth at the same position of the planet on its orbit after 2 orbital periods (2:1 resonance).</p>
<p><img alt="fig-pareto-2" src="../img/figPareto.png" /></p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="fig-eci-2" src="../img/figECI.png" /></th>
<th style="text-align: center;"><img alt="fig-syn-2" src="../img/figSYN.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="fig-rr-2" src="../img/figRSC.png" /></th>
<th style="text-align: center;"><img alt="fig-vv-2" src="../img/figVSC.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="earth-venus-earth-mars-mars-mars-jupiter">Earth-Venus-Earth-Mars-Mars-Mars-Jupiter</h2>
<p>This last script is just to show consecutive resonant legs setup in ASTRA. Specifically, 2:1 and 3:1 resonant ratios are used in successive Mars-Mars legs.</p>
<p>Again, the only thing that changes is the following:</p>
<pre><code class="language-matlab">seq = [ 3 2 3 4 4 4 5 ];   res = [ 2 1 4 3 1 5 ];
</code></pre>
<p><img alt="fig-pareto-2" src="../img/figPareto_evemmmj.png" /></p>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="fig-eci-2" src="../img/figECI_evemmmj.png" /></th>
<th style="text-align: center;"><img alt="fig-syn-2" src="../img/figSYN_evemmmj.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="fig-rr-2" src="../img/figRSC_evemmmj.png" /></th>
<th style="text-align: center;"><img alt="fig-vv-2" src="../img/figVSC_evemmmj.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
      
        <script src="../js/katex.js"></script>
      
    
  </body>
</html>